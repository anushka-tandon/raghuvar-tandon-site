define("@widget/LAYOUT/c/bs-headerTreatments-08485a0d.js",["exports","@widget/LAYOUT/c/bs-countVCTElement"],(function(e,t){"use strict";const r=[1,1.5,2,3],n=/[.-]wsimg\.com\//;function i(e){let t=void 0;if(!e||!n.test(e))return t;const i=[],c=e.split(/(h:|w:)([\d.]+)(,|\/|$)/g),a=c.length;let o=0;for(let e=2;e<a;e+=4)r.forEach((t,r)=>{i[r]=(i[r]||"")+c.slice(o,e).join("")+parseFloat(c[e])*t}),o=e+1;try{t=i.map((t,n)=>{if(t+=c.slice(o,a).join(""),1!==r[n])t+=` ${r[n]}x`;else if(t!==e)throw new Error([e,t]);return t}).join(",\n")}catch(e){}return t||void 0}function c(e){return e.split("/:/")[0]}function a(e){return n.test(e)?e:c(e)}const{headerTreatments:{FILL:o,FIT:g,INSET:l,BLUR:s,LEGACY_BLUR:u}}=(global.Core||guac["@wsb/guac-widget-core"]).constants;e.BLUR=s,e.CDN_REGEX=n,e.FILL=o,e.FIT=g,e.INSET=l,e.LEGACY_BLUR=u,e.addImageApiArgs=function(e,t){if(!n.test(e)||!t)return e;let r;return r="string"==typeof t?t.startsWith("/")?t:"/"+t:Object.keys(t).reduce((e,r)=>`${e}/${r}=${t[r]}`,""),e.endsWith("/")&&(r=r.substr(1)),r?e.indexOf("/:/")>-1?`${e}${r}`:`${e}/:${r}`:e},e.generateBackgroundUrl=function(e,t=!0){return a(t?(global.Core||guac["@wsb/guac-widget-core"]).utils.generateBackgroundUrl(e):(global.Core||guac["@wsb/guac-widget-core"]).utils.generateBackgroundUrl(e).replace(/\/rs=w:{width},h:{height},cg:true,m\/cr=w:{width},h:{height},a[x]?:[^/]*/,"").replace(/\/:$/,""))},e.getSrcSet=i,e.getVCTScript=function(e){if(!e)return"";const r=(i(e)||"").replace(/(\n)/gm," ");return`(function(){${t.countVCTElement};var i=new Image();i.onload=window.markVisuallyComplete;i.srcset="${r||e}";i.src="${e}";})()`},e.getValidUrl=a,e.replaceImageSizeParams=function(e,t=""){return e&&"string"==typeof e?e.replace(/\/:\/rs=w:[0-9]*,h:[0-9]*/,t):""},e.resolveImageSource=function(e,t,r){const i=(null==e?void 0:e.imageUrl)||(null==e?void 0:e.image);return i?n.test(i)?(global.Core||guac["@wsb/guac-widget-core"]).utils.generateImageServiceUrl(e):c(i):r&&r.fallbackBackgroundImageSrc?r.fallbackBackgroundImageSrc.replace(/\{(width|height)\}/g,"+0"):t||""}})),"undefined"!=typeof window&&(window.global=window);
